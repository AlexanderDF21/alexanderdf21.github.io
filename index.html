<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carta Especial</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .screen2 {
      display: none;
      padding: 20px;
    }
    .active {
      display: block;
    }
    .notepad {
      background: #fff;
      padding: 20px;
      margin: auto;
      max-width: 700px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .note-img-full {
      max-width: 200px;
      margin-bottom: 20px;
      border-radius: 12px;
    }
    .back-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #0078d7;
      color: #fff;
      cursor: pointer;
    }
    .back-btn:hover {
      background: #005bb5;
    }
    p {
      text-align: justify;
      line-height: 1.6;
    }
  </style>
</head>
<body>

  <!-- Pantalla de contrase√±a -->
  <div id="passwordScreen" class="active">
    <h2>üîí Ingresa la contrase√±a</h2>
    <input type="password" id="passwordInput" maxlength="4" placeholder="****">
    <button onclick="checkPassword()">Acceder</button>
  </div>

  <!-- Pantalla de la carta -->
  <div id="notepadScreen" class="screen2">
    <div class="notepad">
      <img src="img/imagen.jpg"  
           alt="Imagen decorativa" 
           class="note-img-full">

      <h3 style="text-align: left; margin-bottom: 0;">üìÖ <span id="fechaActual"></span></h3>
      <h4 style="text-align: left; margin-top: 0;">üíå G√©nesis</h4>

      <!-- Aqu√≠ se ir√° escribiendo el contenido -->
      <div id="cartaTexto"></div>

      <button class="back-btn" onclick="goBack()">üîô Inicio</button>
    </div>
  </div>

  <!-- M√∫sica de fondo -->
  <audio id="backgroundMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    let input = "";
    const correctPassword = "1234"; // üîë c√°mbiala por la que quieras

    // Fecha y hora actual
    function actualizarFecha() {
      const ahora = new Date();
      const opciones = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById("fechaActual").textContent =
        ahora.toLocaleDateString('es-ES', opciones) + " " +
        ahora.toLocaleTimeString('es-ES');
    }
    setInterval(actualizarFecha, 1000);
    actualizarFecha();

    // Verificar contrase√±a
    function checkPassword() {
      const input = document.getElementById("passwordInput").value;
      if (input === correctPassword) {
        document.getElementById('passwordScreen').classList.remove('active');
        document.getElementById('notepadScreen').classList.add('active');
        document.getElementById('backgroundMusic').play().catch(()=>{});

        // Efecto m√°quina de escribir
        escribirParrafos("cartaTexto", 40, 800);
      } else {
        alert('Contrase√±a incorrecta, intenta de nuevo.');
        document.getElementById("passwordInput").value = "";
      }
    }

    // Texto de la carta en p√°rrafos
    const parrafos = [
      "‚ú®üéÑ Feliz Navidad üéÑ‚ú®",
      "En esta fecha tan especial quiero desearte que la paz y la alegr√≠a del Se√±or llenen tu vida y la de tu familia. La navidad siempre nos recuerda que el regalo m√°s grande no est√° en lo material, sino en la presencia de Cristo, quien vino a traer esperanza y salvaci√≥n a nuestros corazones.",
      "Este a√±o (personalmente) ha sido lleno de pruebas, pero tambi√©n de victorias que el Se√±or, en su fidelidad, concede. En medio de los desaf√≠os, √âl ha fortalecido mi fe y me ha mostrado que aun en los momentos dif√≠ciles siempre est√° obrando para bien, y s√© que en tu caso tambien ha sido de esa manera. Cada experiencia se convierte en una oportunidad para crecer en confianza, aprender y ver su gracia en acci√≥n.",
      "Quiero que sepas que siempre voy a estar ah√≠ para lo que necesites, sea cual sea el tema. Eres una persona muy especial para m√≠, y me alegra ver c√≥mo est√°s creciendo en el Se√±or. Es evidente que Dios est√° obrando en tu vida, y me encanta ver c√≥mo esa fe, fortaleza y sabidur√≠a florecen en tu coraz√≥n. Es evidente y notorio el crecimiento de alguien que camina de la mano de Pap√° y permite que √âl moldee su coraz√≥n.üòä",
      "Quiero tambien aprovechar este momento para expresar lo valiosa que es tu familia. Tu mam√° Ver√≥nica es un gran ejemplo de mujer de Dios, una mujer virtuosa cuya fe inspira. Tu hermano Isaac, que est√° en pleno crecimiento, es alguien a quien el Se√±or seguir√° fortaleciendo; oro para que crezca en sabidur√≠a y que siempre encuentres maneras de apoyarlo en cada etapa de su vida. Y aunque no tengo el privilegio de conocer a tu pap√°, s√© que los ama profundamente. Y deseo de todo coraz√≥n que el Se√±or sigue siendo la base de ese amor que los une.‚ù§Ô∏è",
      "\"Jehov√° te bendiga, y te guarde; Jehov√° haga resplandecer su rostro sobre ti, y tenga de ti misericordia; Jehov√° alce sobre ti su rostro, y ponga en ti paz.\" ‚ú® N√∫meros 6:24-26",
      "Con mucho cari√±o, Alexander. Te mando un fuerte abrazo ü§ó y que Dios te bendiga much√≠simo."
    ];

    // Escribir p√°rrafos con efecto typewriter
    function escribirParrafos(elementoId, velocidad = 40, pausa = 800) {
      const contenedor = document.getElementById(elementoId);
      contenedor.innerHTML = ""; // Limpia antes de iniciar

      let pIndex = 0;

      function escribirTexto(texto, callback) {
        let i = 0;
        const p = document.createElement("p"); 
        contenedor.appendChild(p);

        function escribir() {
          if (i < texto.length) {
            p.innerHTML += texto.charAt(i);
            i++;
            setTimeout(escribir, velocidad);
          } else if (callback) {
            setTimeout(callback, pausa); // espera antes del siguiente p√°rrafo
          }
        }
        escribir();
      }

      function siguienteParrafo() {
        if (pIndex < parrafos.length) {
          escribirTexto(parrafos[pIndex], siguienteParrafo);
          pIndex++;
        }
      }

      siguienteParrafo();
    }

    // Bot√≥n volver
    function goBack() {
      document.getElementById('notepadScreen').classList.remove('active');
      document.getElementById('passwordScreen').classList.add('active');
      document.getElementById("passwordInput").value = "";
      document.getElementById("cartaTexto").innerHTML = "";
      document.getElementById('backgroundMusic').pause();
      document.getElementById('backgroundMusic').currentTime = 0;
    }
  </script>
</body>
</html>
